{% extends 'base.html'%}

{% load widget_tweaks %}

{% block conteudo %}


                    <div class="container">
                        <div class="d-sm-flex align-items-center justify-content-between mb-4">
                            <h1 class="h3 mb-0 text-gray-800">{{ nome_pagina }}</h1>
                        </div>
                    
                        <div class="card shadow mb-4">
                            <div class="card-body">
                                <h4 class="mb-3 text-primary">
                                    Formulário para registro de novo visitante
                                </h4>

                              <p class="mb-5 ml-1 ">

                                    <small>

                                        O asterístico (*) indica que o campo é obrigatório

                                    </small>

                              </p>


<!-- inicio verificação de erros no formulario--> 

                               <!--verifica se ha erros no nosso formulario-->
                              {% if form.errors %}
                                <!--faz o loop para percorrer os campos(field) do formulario(form)-->
                                {%  for field in form %}
                                    <!--verifiva se ha erros nos campos(field) do formulario (form) -->
                                    {% if field.errors %}
                                        <!--for que percorre e mostra os erros no campo(field) do formulario (form)-->
                                        {% for erro in field.errors %}
                                        <!--div chamando a variavel python e a classe alert do css-->
                                            <div class="alert alert-warning" role="alert">

                                                {{ erro }}

                                            </div>
                                        {% endfor %}

                                    {% endif %}

                                {% endfor %}

                              {% endif %}

<!--final verificação de erros no formulario--> 
                        
                              <form method="post">
                                   <div class="form-row">
                                            <!--csrf_token é responsavel pela segurança do app na hora de receber requisição-->
                                        {% csrf_token %}
                                            <!--for responsavel por fazer buscar na varialvel form no viewr-->
                                        {% for field in form %}
                                            
                                            <div class=" form-group col-md-12">
                                                  <!-- if dentro do label responsabel por deixar os campos (field) obrigatorios com * -->          
                                                  <label>{{ field.label }} {% if field.field.required %} * {% endif %}</label>
                                                   <!--render_field responsavel por enquadrar o formulario-->
                                                  {% render_field  field placeholder=field.label class="form-control" %}  

                                            </div>

                                        {% endfor %}


                                   </div>

                                   <div class="text-right">

                                        <button class="btn btn-primary" type="submit">

                                           <span class="text">Registrar Visitante</span>
                                            
                                        </button>


                                    </div>
                                


                              </form>


                            </div>
                        </div>
                    </div>

{% endblock conteudo %}          